<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏–Ω–∏-–ö–≤–∏–∑ –Ω–∞ –¥–Ω—é—Ö—É!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .puzzle-piece {
            background-size: 300% 300%;
            transition: all 0.3s ease;
        }
        .puzzle-piece-0 { background-position: 0% 0%; }
        .puzzle-piece-1 { background-position: 50% 0%; }
        .puzzle-piece-2 { background-position: 100% 0%; }
        .puzzle-piece-3 { background-position: 0% 50%; }
        .puzzle-piece-4 { background-position: 50% 50%; }
        .puzzle-piece-5 { background-position: 100% 50%; }
        .puzzle-piece-6 { background-position: 0% 100%; }
        .puzzle-piece-7 { background-position: 50% 100%; }
        .puzzle-piece-8 { background-position: 100% 100%; }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 to-blue-600 text-white min-h-screen">
    
      <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="mainMenu" class="flex flex-col items-center justify-center min-h-screen p-8">
        <h1 class="text-6xl font-bold mb-8">üéØ –ú–∏–Ω–∏-–ö–≤–∏–∑ –Ω–∞ –¥–Ω—é—Ö—É!</h1>
        
        <div class="bg-white/20 backdrop-blur-lg rounded-lg p-6 mb-8 max-w-md">
            <h2 class="text-2xl font-semibold mb-4 text-center">–°—á–µ—Ç –∫–æ–º–∞–Ω–¥:</h2>
            <div class="flex justify-between">
                <div class="text-center">
                    <div class="text-2xl font-bold text-yellow-300">–ö–æ–º–∞–Ω–¥–∞ 1</div>
                    <div class="text-4xl font-bold" id="team1Score">0</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-green-300">–ö–æ–º–∞–Ω–¥–∞ 2</div>
                    <div class="text-4xl font-bold" id="team2Score">0</div>
                </div>
            </div>
            <div id="winner" class="mt-4 text-center text-2xl hidden"></div>
        </div>

        <div class="text-center mb-8">
            <div class="mb-6 p-4 bg-white/10 rounded-lg">
                <h3 class="text-lg font-semibold mb-2">üìÅ –°—Ç–∞—Ç—É—Å —Ñ–∞–π–ª–æ–≤</h3>
                <p class="text-sm mb-2">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤: <span class="font-bold text-green-300">6 —à—Ç ‚úÖ</span></p>
                <p class="text-sm mb-2">–ê—É–¥–∏–æ —Ñ–∞–π–ª—ã: <span class="font-bold text-blue-300">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ –ø–∞–ø–∫—É audio/</span></p>
                <div class="text-xs text-yellow-200">
                    
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-3xl mb-2">üß©</div>
                    <div class="font-semibold">–ü–∞–∑–ª—ã –∏–∑ —Ñ–∏–ª—å–º–æ–≤</div>
                    <div class="text-sm">–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —á–∞—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-3xl mb-2">üéµ</div>
                    <div class="font-semibold">–ü–µ—Å–Ω–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç</div>
                    <div class="text-sm">–£–≥–∞–¥–∞–π—Ç–µ —Ç—Ä–µ–∫</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-3xl mb-2">üß†</div>
                    <div class="font-semibold">–û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è</div>
                    <div class="text-sm">–í–∏–∫—Ç–æ—Ä–∏–Ω–∞</div>
                </div>
            </div>
        </div>

        <button onclick="startGame()" class="px-12 py-4 bg-green-500 hover:bg-green-600 rounded-lg font-bold text-2xl transition-colors">
            –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        </button>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="gameScreen" class="hidden min-h-screen">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Å—á–µ—Ç–æ–º -->
        <div class="bg-black/30 p-4">
            <div class="flex justify-between items-center max-w-4xl mx-auto">
                <div class="flex gap-8">
                    <div id="team1Display" class="text-center p-3 rounded-lg bg-white/20">
                        <div class="font-bold">–ö–æ–º–∞–Ω–¥–∞ 1</div>
                        <div class="text-2xl font-bold" id="gameTeam1Score">0</div>
                    </div>
                    <div id="team2Display" class="text-center p-3 rounded-lg bg-white/20">
                        <div class="font-bold">–ö–æ–º–∞–Ω–¥–∞ 2</div>
                        <div class="text-2xl font-bold" id="gameTeam2Score">0</div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm opacity-75">–í–æ–ø—Ä–æ—Å <span id="questionNumber">1</span> –∏–∑ <span id="totalQuestions">9</span></div>
                    <div class="font-bold">–•–æ–¥ –∫–æ–º–∞–Ω–¥—ã <span id="currentTeamDisplay">1</span></div>
                </div>
            </div>
        </div>

        <div class="p-6 max-w-4xl mx-auto">
            <div class="bg-white/10 backdrop-blur-lg rounded-lg p-6">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–æ–ø—Ä–æ—Å–∞ -->
                <div class="flex items-center gap-3 mb-6">
                    <div class="text-4xl" id="questionIcon">üß©</div>
                    <h2 class="text-3xl font-bold" id="questionTitle">–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É</h2>
                    <div class="ml-auto bg-yellow-500 px-4 py-2 rounded-full font-bold text-lg">
                        <span id="questionPoints">100</span> –æ—á–∫–æ–≤
                    </div>
                </div>

                <!-- –ü–∞–∑–ª -->
                <div id="puzzleSection" class="mb-8">
                    <div class="grid grid-cols-3 gap-2 max-w-lg mx-auto mb-4">
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(0)">
                            <span class="text-white font-bold text-xl">1</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(1)">
                            <span class="text-white font-bold text-xl">2</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(2)">
                            <span class="text-white font-bold text-xl">3</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(3)">
                            <span class="text-white font-bold text-xl">4</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(4)">
                            <span class="text-white font-bold text-xl">5</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(5)">
                            <span class="text-white font-bold text-xl">6</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(6)">
                            <span class="text-white font-bold text-xl">7</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(7)">
                            <span class="text-white font-bold text-xl">8</span>
                        </div>
                        <div class="aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center" onclick="revealPiece(8)">
                            <span class="text-white font-bold text-xl">9</span>
                        </div>
                    </div>
                    <p class="text-center text-sm opacity-75">
                        –û—Ç–∫—Ä—ã—Ç–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤: <span id="revealedCount">0</span>/9
                        <br>–û—á–∫–∏ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –æ—Ç–∫—Ä—ã—Ç—ã–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–º!
                    </p>
                </div>

                <!-- –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
                <div id="musicSection" class="mb-8 text-center hidden">
                    <div class="bg-black/50 rounded-lg p-6 mb-4">
                        <div class="text-5xl mb-4">üéµ</div>
                       
                        <p class="text-sm opacity-75 mt-2">(–î–µ–º–æ —Ä–µ–∂–∏–º - –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)</p>
                        <div class="mt-4" id="audioContainer">
                            <div class="bg-gray-800 p-4 rounded-lg">
                                <div id="audioLoadedState" class="hidden">
                                    <p class="text-sm mb-3 text-green-300">‚úÖ –ê—É–¥–∏–æ —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω</p>
                                    <audio id="audioPlayer" controls class="w-full mb-3">
                                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ
                                    </audio>
                                    <div class="flex gap-2">
                                        <button onclick="playAudio()" id="playBtn" class="bg-blue-500 px-4 py-2 rounded hover:bg-blue-600 text-sm">
                                            ‚ñ∂Ô∏è –ò–≥—Ä–∞—Ç—å
                                        </button>
                                        <button onclick="playReversed()" class="bg-purple-500 px-4 py-2 rounded hover:bg-purple-600 text-sm">
                                            üîÑ –ù–∞–æ–±–æ—Ä–æ—Ç (–¥–µ–º–æ)
                                        </button>
                                    </div>
                                </div>
                                <div id="audioNotFoundState">
                                    <p class="text-sm mb-3 text-yellow-300">‚ö†Ô∏è –ê—É–¥–∏–æ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω</p>
                                    <p class="text-xs mb-3">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª: <span id="expectedAudioFile" class="font-mono bg-black/50 px-2 py-1 rounded">audio/song.mp3</span></p>
                                    <button class="bg-gray-600 px-4 py-2 rounded cursor-not-allowed text-sm">
                                        üéµ –§–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –°–µ–∫—Ü–∏—è —ç–º–æ–¥–∑–∏ –ø–µ—Å–µ–Ω -->
                <div id="emojiSection" class="mb-8 text-center hidden">
                    <div class="bg-black/50 rounded-lg p-6 mb-4">
                        <div class="text-6xl mb-4" id="emojiDisplay">üëëüé≠üé∏</div>
                        <p class="text-lg" id="emojiDescription">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–æ–∫-–æ–ø–µ—Ä–∞ –≥—Ä—É–ø–ø—ã Queen</p>
                        <p class="text-sm text-yellow-300 mt-2">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –£–≥–∞–¥–∞–π—Ç–µ –ø–µ—Å–Ω—é –ø–æ —ç–º–æ–¥–∑–∏!</p>
                    </div>
                </div>

                <!-- –û–±—ã—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å -->
                <div id="triviaSection" class="mb-8 hidden">
                    <p class="text-2xl text-center bg-black/30 p-6 rounded-lg" id="triviaQuestion">–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω YouTube?</p>
                </div>

                <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã) -->
                <div id="answerSection" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <button class="answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30" onclick="selectAnswer(0)">
                        A. <span class="answer-text">5 —ç–ª–µ–º–µ–Ω—Ç</span>
                    </button>
                    <button class="answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30" onclick="selectAnswer(1)">
                        B. <span class="answer-text">–ú–∞—Ç—Ä–∏—Ü–∞</span>
                    </button>
                    <button class="answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30" onclick="selectAnswer(2)">
                        C. <span class="answer-text">–ê–≤–∞—Ç–∞—Ä</span>
                    </button>
                    <button class="answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30" onclick="selectAnswer(3)">
                        D. <span class="answer-text">–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä</span>
                    </button>
                </div>

                <!-- –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (–¥–ª—è –ø–∞–∑–ª–æ–≤ –∏ –ø–µ—Å–µ–Ω) -->
                <div id="textInputSection" class="mb-8 hidden">
                    <div class="max-w-md mx-auto">
                        <label class="block text-lg font-semibold mb-3 text-center">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç:</label>
                        <input 
                            type="text" 
                            id="textAnswer" 
                            class="w-full p-4 rounded-lg text-black text-lg font-semibold text-center"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ..."
                            onkeypress="if(event.key==='Enter') checkTextAnswer()"
                        >
                        <p class="text-sm text-yellow-300 mt-2 text-center">üí° –ù–∞–∂–º–∏—Ç–µ Enter –∏–ª–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ</p>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–≤–µ—Ç–∞ -->
                <div id="submitSection" class="text-center hidden">
                    <button onclick="submitAnswer()" class="px-12 py-4 bg-green-500 hover:bg-green-600 rounded-lg font-bold text-2xl transition-colors">
                        –û—Ç–≤–µ—Ç–∏—Ç—å
                    </button>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div id="resultSection" class="text-center hidden">
                    <div id="resultMessage" class="text-4xl font-bold mb-4"></div>
                    <p class="text-2xl mb-4">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <strong id="correctAnswer">5 —ç–ª–µ–º–µ–Ω—Ç</strong></p>
                    <p id="pointsMessage" class="text-xl mb-4"></p>
                    <p class="text-sm opacity-75">–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É...</p>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        // –î–∞–Ω–Ω—ã–µ –∫–≤–∏–∑–∞ —Å –≤–∞—à–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        const filmQuestions = [
            {
                type: 'puzzle',
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É',
                image: 'photos/film_5_element.png',
                correctAnswer: '–ø—è—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç',
                points: 120,
                options: ['5 —ç–ª–µ–º–µ–Ω—Ç', '–ú–∞—Ç—Ä–∏—Ü–∞', '–ê–≤–∞—Ç–∞—Ä', '–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä']
            },
            {
                type: 'puzzle', 
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É',
                image: 'photos/film_nynki.jpg',
                correctAnswer: '–Ω—è–Ω—å–∫–∏',
                points: 120,
                options: ['nynki', '–¢–µ—Ä–º–∏–Ω–∞—Ç–æ—Ä', '–ù–∞—á–∞–ª–æ', '–ë–µ–≥—É—â–∏–π –ø–æ –ª–µ–∑–≤–∏—é']
            },
            {
                type: 'puzzle',
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É', 
                image: 'photos/film_brilliant_hand.jpg',
                correctAnswer: '–±—Ä–∏–ª–ª–∏–∞–Ω—Ç–æ–≤–∞—è —Ä—É–∫–∞',
                points: 120,
                options: ['brilliant hand', '–ö—Ä–µ—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü', '–®–µ—Ä–ª–æ–∫ –•–æ–ª–º—Å', '–î–∂–µ–π–º—Å –ë–æ–Ω–¥']
            },
            {
                type: 'puzzle',
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É',
                image: 'photos/film_titanic.jpg', 
                correctAnswer: '—Ç–∏—Ç–∞–Ω–∏–∫',
                points: 120,
                options: ['titanic', '–†–æ–º–µ–æ –∏ –î–∂—É–ª—å–µ—Ç—Ç–∞', '–ö–∞—Å–∞–±–ª–∞–Ω–∫–∞', '–ì—Ä—è–∑–Ω—ã–µ —Ç–∞–Ω—Ü—ã']
            },
            {
                type: 'puzzle',
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É',
                image: 'photos/film_love&birds.jpg',
                correctAnswer: '–ª—é–±–æ–≤—å –∏ –≥–æ–ª—É–±–∏', 
                points: 120,
                options: ['love&birds', '–õ—é–±–æ–≤—å –∏ –≥–æ–ª—É–±–∏', '–ú–æ—Å–∫–≤–∞ —Å–ª–µ–∑–∞–º –Ω–µ –≤–µ—Ä–∏—Ç', '–û—Ñ–∏—Ü–µ—Ä—ã']
            },
            {
                type: 'puzzle',
                title: '–£–≥–∞–¥–∞–π —Ñ–∏–ª—å–º –ø–æ –∫–∞–¥—Ä—É',
                image: 'photos/film_mask.jpg',
                correctAnswer: '–º–∞—Å–∫–∞',
                points: 120,
                options: ['mask', '–ë—ç—Ç–º–µ–Ω', '–ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫', '–ñ–µ–ª–µ–∑–Ω—ã–π —á–µ–ª–æ–≤–µ–∫']
            },

            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '01',
                audioFile: 'audio/song_asti.mp3',
                correctAnswer: '–∞—Å—Ç–∏',
                points: 150,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '02',
                audioFile: 'audio/song_rasa.mp3',
                correctAnswer: '—Ä–∞—Å–∞',
                points: 150,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '03',
                audioFile: 'audio/song_zemlya.mp3',
                correctAnswer: '–∑–µ–º–ª—è–Ω–µ',
                points: 100,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '04',
                audioFile: 'audio/song_otumn.mp3',
                correctAnswer: '–¥–¥—Ç',
                points: 100,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '05',
                audioFile: 'audio/song_kipelov.mp3',
                correctAnswer: '–∫–∏–ø–µ–ª–æ–≤',
                points: 100,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            {
                type: 'reverse-song',
                title: '–£–≥–∞–¥–∞–π –ø–µ—Å–Ω—é (–∏–≥—Ä–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç)',
                description: '06',
                audioFile: 'audio/song_butusov.mp3',
                correctAnswer: '–±—É—Ç—É—Å–æ–≤',
                points: 100,
                options: ['Bohemian Rhapsody', 'We Will Rock You', 'Another One Bites the Dust', 'Don\'t Stop Me Now']
            },
            // –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
            {
                type: 'trivia',
                title: '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è',
                question: '–ö–∞–∫–∞—è —Å–∞–º–∞—è –¥–ª–∏–Ω–Ω–∞—è —Ä–µ–∫–∞ –≤ –º–∏—Ä–µ?',
                correctAnswer: '–ù–∏–ª',
                points: 80,
                options: ['–ê–º–∞–∑–æ–Ω–∫–∞', '–ù–∏–ª', '–ú–∏—Å—Å–∏—Å–∏–ø–∏', '–Ø–Ω—Ü–∑—ã']
            },
            {
                type: 'trivia',
                title: '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è',
                question: '–°—Ç–æ–ª–∏—Ü–∞ –ê–≤—Å—Ç—Ä–∞–ª–∏–∏?',
                correctAnswer: '–ö–∞–Ω–±–µ—Ä—Ä–∞',
                points: 80,
                options: ['–°–∏–¥–Ω–µ–π', '–ú–µ–ª—å–±—É—Ä–Ω', '–ö–∞–Ω–±–µ—Ä—Ä–∞', '–ü–µ—Ä—Ç']
            },
            
            // –ù–∞—É–∫–∞
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–°–∫–æ–ª—å–∫–æ —Å–µ—Ä–¥–µ—Ü —É –æ—Å—å–º–∏–Ω–æ–≥–∞?',
                correctAnswer: '3',
                points: 80,
                options: ['1', '2', '3', '4']
            },
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ —Å–ø–∏—Ç –æ–∫–æ–ª–æ 4 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å?',
                correctAnswer: '–ñ–∏—Ä–∞—Ñ',
                points: 80,
                options: ['–°–ª–æ–Ω', '–û–±–µ–∑—å—è–Ω–∞', '–ñ–∏—Ä–∞—Ñ', '–ö–µ–Ω–≥—É—Ä—É']
            },
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–°–∫–æ–ª—å–∫–æ –≥–ª–∞–∑ —É –ø–∞—É–∫–∞-–ø–∞–≤–∏–∞–Ω–∞?',
                correctAnswer: '8',
                points: 80,
                options: ['6', '8', '10', '12']
            },
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–µ –¥–æ 1 —É–¥–∞—Ä–∞ –≤ –º–∏–Ω—É—Ç—É?',
                correctAnswer: '–ú–æ—Ä—Å–∫–∞—è —á–µ—Ä–µ–ø–∞—Ö–∞',
                points: 80,
                options: ['–ª—è–≥—É—à–∫–∞', '–ú–æ—Ä—Å–∫–∞—è —á–µ—Ä–µ–ø–∞—Ö–∞', '–ö–∏—Ç', '–±—Ä–æ–Ω–µ–Ω–æ—Å–µ—Ü']
            },
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–ö–∞–∫–æ–π –∑–≤–µ—Ä—å –ø–æ—Ç–µ–µ—Ç —Ä–æ–∑–æ–≤—ã–º –ø–æ—Ç–æ–º?',
                correctAnswer: '–ì–∏–ø–ø–æ–ø–æ—Ç–∞–º',
                points: 80,
                options: ['–°–ª–æ–Ω', '–ù–æ—Å–æ—Ä–æ–≥', '–ì–∏–ø–ø–æ–ø–æ—Ç–∞–º', '–ë–µ–≥–µ–º–æ—Ç']
            },
            {
                type: 'trivia',
                title: '–ü—Ä–∏—Ä–æ–¥–∞',
                question: '–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å –ø–∞–Ω–¥–∞ –∫–∞–∫–∞–µ—Ç –≤ —Å—Ä–µ–¥–Ω–µ–º?',
                correctAnswer: '40',
                points: 80,
                options: ['10', '20', '30', '40']
            },
            
            {
                type: 'trivia',
                title: '–ù–∞—É–∫–∞',
                question: '–°–∫–æ–ª—å–∫–æ –∫–æ—Å—Ç–µ–π –≤ —Ç–µ–ª–µ –≤–∑—Ä–æ—Å–ª–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞?',
                correctAnswer: '206',
                points: 80,
                options: ['196', '206', '216', '226']
            },        
              
           
            // –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
            {
                type: 'trivia',
                title: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
                question: '–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω YouTube?',
                correctAnswer: '2005',
                points: 50,
                options: ['2004', '2005', '2006', '2007']
            },
                     
            // –ï–¥–∞
            {
                type: 'trivia',
                title: '–ö—É–ª–∏–Ω–∞—Ä–∏—è',
                question: '–ö–∞–∫–∏–µ –∏–Ω–≥—Ä–∏–¥–∏–µ–Ω—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±–æ—Ä—â –ø–æ –º–Ω–µ–Ω–∏—é –∏–Ω—Ç–µ—Ä–Ω–µ—Ç- –º–µ–º–∞?',
                correctAnswer: '–º—É–∫–∞ –∏ –º–∞–∫–∞—Ä–æ–Ω—ã',
                points: 50,
                options: ['–°–≤–µ–∫–ª–∞ –∏ —è–±–ª–æ–∫–∏', '–≥—Ä–µ—á–∫–∞ –∏ —Ñ–∞—Å–æ–ª—å', '–º—É–∫–∞ –∏ –º–∞–∫–∞—Ä–æ–Ω—ã', '–º–∞–Ω–≥–æ –∏ –º–∞—Ä–∞–∫—É—è']
            },
            {
                type: 'trivia',
                title: '–ö—É–ª–∏–Ω–∞—Ä–∏—è',
                question: '–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±–∞–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∞ –¥–µ–¥–∞ –∫ –∑–æ–ª–æ—Ç–æ–π —Ä—ã–±–∫–µ?',
                correctAnswer: '5',
                points: 80,
                options: ['4', '6', '5', '7']
            },
            
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: 'üíÉüèΩ‚ùåüêéüëçüèª',
                description: '–ø–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['Billie Jean', 'Beat It', 'Thriller', 'Smooth Criminal']
            },
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: 'üëÄüôÄüëêüèª‚úÖ',
                description: '–ø–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['–õ—É–Ω–Ω–∞—è —Å–µ—Ä–µ–Ω–∞–¥–∞', '–ü–æ–¥–º–æ—Å–∫–æ–≤–Ω—ã–µ –≤–µ—á–µ—Ä–∞', '–¢–µ–º–Ω–∞—è –Ω–æ—á—å', '–ö–∞—Ç—é—à–∞']
            },
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: '‚ù§Ô∏èüçØ‚ù§Ô∏èü•∂',
                description: '–ø–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['Thriller', 'Smooth Criminal', 'Beat It', 'Bad']
            },
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: 'üö´üÜíüï∫ü•öü•ö‚õîÔ∏è',
                description: '–ø–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['Yellow Submarine', 'Here Comes the Sun', 'Lucy in the Sky', 'All You Need Is Love']
            },
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: 'üë¥üê∂üèÜüÜïÔ∏èüôç‚Äç‚ôÇÔ∏èüôç‚Äç‚ôÇÔ∏è',
                description: '–ø–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['Hotel California', 'Stairway to Heaven', 'Comfortably Numb', 'Wish You Were Here']
            },
            {
                type: 'emoji-song',
                title: '–£–≥–∞–¥–∞–π –ø–æ—Å–ª–æ–≤–∏—Ü—É –ø–æ —ç–º–æ–¥–∑–∏',
                emojis: '‚öíÔ∏èüôÖüê∫üå≤üå≤üôÖüèÉ‚Äç‚ôÇÔ∏è',
                description: '–ü–æ—Å–ª–æ–≤–∏—Ü–∞',
                correctAnswer: '–¥–∞',
                points: 100,
                options: ['–ü–æ–¥–º–æ—Å–∫–æ–≤–Ω—ã–µ –≤–µ—á–µ—Ä–∞', '–ú–æ—Å–∫–æ–≤—Å–∫–∏–µ –æ–∫–Ω–∞', '–í–µ—á–µ—Ä–Ω—è—è –ø–µ—Å–Ω—è', '–û–≥–Ω–∏ –ú–æ—Å–∫–≤—ã']
            },
     
        ];

        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentQuestion = 0;
        let currentTeam = 1;
        let team1Score = 0;
        let team2Score = 0;
        let puzzleRevealed = Array(9).fill(false);
        let selectedAnswerIndex = -1;

        // –§—É–Ω–∫—Ü–∏—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
        window.startGame = function() {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            loadQuestion();
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
        function loadQuestion() {
            const question = filmQuestions[currentQuestion];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('totalQuestions').textContent = filmQuestions.length;
            document.getElementById('currentTeamDisplay').textContent = currentTeam;
            document.getElementById('questionTitle').textContent = question.title;
            document.getElementById('questionPoints').textContent = question.points;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã
            let icon = 'üß†'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
            if (question.type === 'puzzle') icon = 'üß©';
            else if (question.type === 'reverse-song') icon = 'üéµ';
            else if (question.type === 'emoji-song') icon = 'üòÄ';
            else if (question.title === '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è') icon = 'üåç';
            else if (question.title === '–ò—Å—Ç–æ—Ä–∏—è') icon = 'üìö';
            else if (question.title === '–ù–∞—É–∫–∞') icon = 'üî¨';
            else if (question.title === '–°–ø–æ—Ä—Ç') icon = '‚öΩ';
            else if (question.title === '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞') icon = 'üìñ';
            else if (question.title === '–ò—Å–∫—É—Å—Å—Ç–≤–æ') icon = 'üé®';
            else if (question.title === '–ü—Ä–∏—Ä–æ–¥–∞') icon = 'üåø';
            else if (question.title === '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏') icon = 'üíª';
            else if (question.title === '–ú—É–∑—ã–∫–∞') icon = 'üéµ';
            else if (question.title === '–ö—É–ª–∏–Ω–∞—Ä–∏—è') icon = 'üç≥';
            
            document.getElementById('questionIcon').textContent = icon;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById('puzzleSection').classList.toggle('hidden', question.type !== 'puzzle');
            document.getElementById('musicSection').classList.toggle('hidden', question.type !== 'reverse-song');
            document.getElementById('emojiSection').classList.toggle('hidden', question.type !== 'emoji-song');
            document.getElementById('triviaSection').classList.toggle('hidden', question.type !== 'trivia');

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–æ–º–∞–Ω–¥
            document.getElementById('team1Display').className = currentTeam === 1 ? 'text-center p-3 rounded-lg bg-yellow-500' : 'text-center p-3 rounded-lg bg-white/20';
            document.getElementById('team2Display').className = currentTeam === 2 ? 'text-center p-3 rounded-lg bg-green-500' : 'text-center p-3 rounded-lg bg-white/20';

            // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –ø–∞–∑–ª (–ù–ï –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ä–∞–∑—É)
            if (question.type === 'puzzle') {
                const puzzleGrid = document.querySelector('#puzzleSection .grid');
                
                for (let i = 0; i < 9; i++) {
                    const piece = puzzleGrid.children[i];
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é - —Ç–æ–ª—å–∫–æ —Å–µ—Ä—ã–π –±–ª–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º
                    piece.className = 'aspect-square bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors flex items-center justify-center';
                    piece.style.backgroundImage = ''; // –£–±–∏—Ä–∞–µ–º —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    piece.innerHTML = `<span class="text-white font-bold text-xl">${i + 1}</span>`;
                }
                puzzleRevealed = Array(9).fill(false);
                document.getElementById('revealedCount').textContent = '0';
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –º—É–∑—ã–∫–∞–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é
            if (question.type === 'reverse-song') {
                document.getElementById('songName').textContent = question.correctAnswer;
                checkAudioFile(question.audioFile);
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–∫—Ü–∏—é —ç–º–æ–¥–∑–∏
            if (question.type === 'emoji-song') {
                document.getElementById('emojiDisplay').textContent = question.emojis;
                document.getElementById('emojiDescription').textContent = question.description;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
            if (question.type === 'trivia') {
                document.getElementById('triviaQuestion').textContent = question.question;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            const answerButtons = document.querySelectorAll('.answer-btn');
            question.options.forEach((option, index) => {
                if (answerButtons[index]) {
                    answerButtons[index].querySelector('.answer-text').textContent = option;
                    answerButtons[index].className = 'answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30';
                }
            });

            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
            selectedAnswerIndex = -1;
            
            // –ü—Ä—è—á–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –ø–∞–∑–ª–æ–≤ –∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
            if (question.type === 'puzzle' || question.type === 'reverse-song' || question.type === 'emoji-song') {
                document.getElementById('answerSection').classList.add('hidden');
                document.getElementById('textInputSection').classList.remove('hidden');
                document.getElementById('textAnswer').value = '';
            } else {
                document.getElementById('answerSection').classList.remove('hidden');
                document.getElementById('textInputSection').classList.add('hidden');
            }
            
            document.getElementById('submitSection').classList.add('hidden');
            document.getElementById('resultSection').classList.add('hidden');
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –ø–∞–∑–ª–∞
        window.revealPiece = function(index) {
            if (puzzleRevealed[index]) return;
            
            puzzleRevealed[index] = true;
            const piece = document.querySelector('#puzzleSection .grid').children[index];
            const question = filmQuestions[currentQuestion];
            
            // –£–±–∏—Ä–∞–µ–º –Ω–æ–º–µ—Ä –∏ —Å–µ—Ä—ã–π —Ñ–æ–Ω
            piece.innerHTML = '';
            piece.classList.remove('bg-gray-800', 'hover:bg-gray-700');
            
            // –¢–ï–ü–ï–†–¨ –¥–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –∫—É—Å–æ—á–∫–∞
            piece.style.backgroundImage = `url(${question.image})`;
            piece.className = `aspect-square rounded-lg cursor-pointer transition-colors puzzle-piece puzzle-piece-${index}`;
            
            const revealedCount = puzzleRevealed.filter(Boolean).length;
            document.getElementById('revealedCount').textContent = revealedCount;
        };

        // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã)
        window.selectAnswer = function(index) {
            selectedAnswerIndex = index;
            
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach((btn, i) => {
                btn.className = i === index 
                    ? 'answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-blue-500 hover:bg-blue-600'
                    : 'answer-btn p-4 rounded-lg font-semibold text-lg transition-colors bg-white/20 hover:bg-white/30';
            });

            document.getElementById('submitSection').classList.remove('hidden');
        };

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        window.checkTextAnswer = function() {
            const userAnswer = document.getElementById('textAnswer').value.trim();
            if (userAnswer) {
                selectedAnswerIndex = userAnswer;
                document.getElementById('submitSection').classList.remove('hidden');
            }
        };

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞
        window.submitAnswer = function() {
            const question = filmQuestions[currentQuestion];
            let selectedAnswer;
            let isCorrect;
            
            if (question.type === 'puzzle' || question.type === 'reverse-song' || question.type === 'emoji-song') {
                // –î–ª—è –ø–∞–∑–ª–æ–≤ –∏ –ø–µ—Å–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥
                selectedAnswer = selectedAnswerIndex;
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∏ —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã)
                isCorrect = selectedAnswer.toLowerCase().trim() === question.correctAnswer.toLowerCase().trim();
            } else {
                // –î–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
                selectedAnswer = question.options[selectedAnswerIndex];
                isCorrect = selectedAnswer === question.correctAnswer;
            }
            
            let pointsToAdd = question.points;
            if (question.type === 'puzzle') {
                const revealedCount = puzzleRevealed.filter(Boolean).length;
                pointsToAdd = Math.max(50, question.points - (revealedCount * 15));
            }

            if (isCorrect) {
                if (currentTeam === 1) {
                    team1Score += pointsToAdd;
                } else {
                    team2Score += pointsToAdd;
                }
                updateScores();
            }

            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            document.getElementById('answerSection').classList.add('hidden');
            document.getElementById('textInputSection').classList.add('hidden');
            document.getElementById('submitSection').classList.add('hidden');
            document.getElementById('resultSection').classList.remove('hidden');
            
            document.getElementById('resultMessage').textContent = isCorrect ? '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!' : '‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!';
            document.getElementById('resultMessage').className = isCorrect ? 'text-4xl font-bold mb-4 text-green-300' : 'text-4xl font-bold mb-4 text-red-300';
            document.getElementById('correctAnswer').textContent = question.correctAnswer;
            
            if (isCorrect) {
                document.getElementById('pointsMessage').textContent = `–ö–æ–º–∞–Ω–¥–∞ ${currentTeam} –ø–æ–ª—É—á–∞–µ—Ç ${pointsToAdd} –æ—á–∫–æ–≤!`;
                document.getElementById('pointsMessage').className = 'text-xl text-green-300 mb-4';
            } else {
                document.getElementById('pointsMessage').textContent = '';
            }

            setTimeout(() => {
                nextQuestion();
            }, 3000);
        };

        // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= filmQuestions.length) {
                endGame();
                return;
            }
            
            currentTeam = currentTeam === 1 ? 2 : 1;
            loadQuestion();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞
        function updateScores() {
            document.getElementById('gameTeam1Score').textContent = team1Score;
            document.getElementById('gameTeam2Score').textContent = team2Score;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
        function checkAudioFile(audioFile) {
            if (!audioFile) return;
            
            const player = document.getElementById('audioPlayer');
            const loadedState = document.getElementById('audioLoadedState');
            const notFoundState = document.getElementById('audioNotFoundState');
            const expectedFile = document.getElementById('expectedAudioFile');
            
            expectedFile.textContent = audioFile;
            
            // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ —Ñ–∞–π–ª
            const audio = new Audio();
            audio.src = audioFile;
            
            audio.addEventListener('canplaythrough', () => {
                // –§–∞–π–ª –Ω–∞–π–¥–µ–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω
                player.src = audioFile;
                loadedState.classList.remove('hidden');
                notFoundState.classList.add('hidden');
                console.log(`‚úÖ –ê—É–¥–∏–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: ${audioFile}`);
            });
            
            audio.addEventListener('error', () => {
                // –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
                loadedState.classList.add('hidden');
                notFoundState.classList.remove('hidden');
                console.log(`‚ùå –ê—É–¥–∏–æ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: ${audioFile}`);
            });
            
            // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
            audio.load();
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ
        window.playAudio = function() {
            const player = document.getElementById('audioPlayer');
            const playBtn = document.getElementById('playBtn');
            
            if (player.paused) {
                player.play();
                playBtn.textContent = '‚è∏Ô∏è –ü–∞—É–∑–∞';
            } else {
                player.pause();
                playBtn.textContent = '‚ñ∂Ô∏è –ò–≥—Ä–∞—Ç—å';
            }
        };

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è "–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –Ω–∞–æ–±–æ—Ä–æ—Ç"
        window.playReversed = function() {
            const player = document.getElementById('audioPlayer');
            
            // –ü—Ä–æ—Å—Ç–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è - –∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            if (player.playbackRate === 1) {
                player.playbackRate = 0.5;
                player.play();
                alert('–î–µ–º–æ: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–º–µ–¥–ª–µ–Ω–æ –≤ 2 —Ä–∞–∑–∞\n\n–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ reverse –Ω—É–∂–µ–Ω Web Audio API');
            } else {
                player.playbackRate = 1;
            }
        };

        // –û–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã
        function endGame() {
            document.getElementById('team1Score').textContent = team1Score;
            document.getElementById('team2Score').textContent = team2Score;
            
            const winner = document.getElementById('winner');
            winner.classList.remove('hidden');
            winner.textContent = team1Score > team2Score 
                ? 'üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: –ö–æ–º–∞–Ω–¥–∞ 1!' 
                : team2Score > team1Score 
                    ? 'üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: –ö–æ–º–∞–Ω–¥–∞ 2!'
                    : 'ü§ù –ù–∏—á—å—è!';

            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('mainMenu').classList.remove('hidden');
            
            // –°–±—Ä–æ—Å –∏–≥—Ä—ã
            currentQuestion = 0;
            currentTeam = 1;
        }
    </script>
</body>
</html>
